/* =========================================================
   TP Japan Microsite — Base Styles
   Author: you + a little help ✨
   Notes:
   - Utility classes: .grid, .card, .btn, .u-*
   - Responsive utils: .cols-4 / .cols-3 / .cols-2-md / .cols-1-sm
   - Drawer + header are JS-toggled (aria-* states handled by app.js)
========================================================= */

/* ---------- CSS Reset / Base ---------- */
*, *::before, *::after { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
body, h1, h2, h3, h4, p, figure, blockquote, dl, dd { margin: 0; }
ul[role='list'], ol[role='list'] { list-style: none; }
img { max-width: 100%; display: block; }
a { color: inherit; text-decoration: none; }
button { font: inherit; }
:focus { outline: none; }
:focus-visible { outline: 3px solid rgba(59,130,246,.6); outline-offset: 2px; }

/* ---------- Theme ---------- */
:root{
  --bg: #ffffff;
  --surface: #ffffff;
  --muted-surface: #fff7fb;
  --text: #1f2937;            /* slate-800 */
  --muted: #6b7280;           /* slate-500 */
  --brand: #ff0082;           /* TP pink */
  --brand-ink: #ffffff;
  --accent: #3b82f6;          /* blue-500 */
  --line: #e5e7eb;            /* gray-200 */
  --line-strong: #d1d5db;     /* gray-300 */
  --shadow: 0 10px 30px rgba(0,0,0,.08);
  --radius: 14px;
  --radius-sm: 10px;
  --container: 1120px;
}

html, body{
  height: 100%;
  background: var(--bg);
  color: var(--text);
  font-family: 'Noto Sans JP', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Apple Color Emoji','Segoe UI Emoji';
  line-height: 1.65;
  letter-spacing: .2px;
}

.visually-hidden{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* ---------- Layout ---------- */
.container{
  max-width: var(--container);
  margin-inline: auto;
  padding-inline: 20px;
}

main { display:block; }

/* Spacing utils */
.u-mt0{ margin-top:0 !important; }
.u-mt8{ margin-top:8px !important; }
.u-mt12{ margin-top:12px !important; }
.u-mt16{ margin-top:16px !important; }
.u-center{ text-align:center; }

/* ---------- Typography ---------- */
.h2{
  font-size: clamp(22px, 2.2vw, 28px);
  line-height: 1.25;
  letter-spacing: .2px;
}
.h2-sub{
  color: var(--muted);
  margin-top: 6px;
  font-size: clamp(14px, 1.6vw, 16px);
}
.eyebrow{
  display:inline-block;
  font-size: 13px;
  letter-spacing: .26em;
  color: var(--brand);
  text-transform: uppercase;
  font-weight: 700;
}
.lead{ font-size: clamp(16px, 1.9vw, 18px); color: var(--muted); }

/* ---------- Header ---------- */
.site-header{
  position: sticky; top: 0; z-index: 50;
  background: rgba(255,255,255,.86);
  backdrop-filter: saturate(140%) blur(10px);
  border-bottom: 1px solid var(--line);
}
.header-inner{
  display:flex; align-items:center; gap:18px;
  height: 68px;
}
.brand{ display:flex; align-items:center; gap:12px; }
.brand-logo{ width:40px; height:40px; object-fit:contain; }
.brand-text .t{ font-weight:900; font-size:20px; line-height:1; }
.brand-text .s{ color:var(--muted); font-size:12px; line-height:1.2; }

.site-nav{
  display:flex; gap:18px; align-items:center;
  margin-left:auto;
}
.site-nav a{
  font-size:14px; color:#0f172a;
  padding:8px 6px; border-radius:8px;
}
.site-nav a:hover{ background:#f8fafc; }

.header-actions{ display:flex; align-items:center; gap:12px; }
.lang-switch{ display:flex; gap:6px; }
.lang-btn{
  padding:6px 10px; border:1px solid var(--line);
  border-radius:10px; background:#fff; color:#111827;
}
.lang-btn.is-active{ background:var(--brand); color:var(--brand-ink); border-color:transparent; }

/* Hamburger */
.hamburger{ display:none; width:44px; height:44px; border:1px solid var(--line); border-radius:10px; background:#fff; }
.hamburger span{ display:block; width:22px; height:2px; margin:5px auto; background:#111827; border-radius:2px; }

/* ---------- Drawer (mobile menu) ---------- */
.scrim{ position:fixed; inset:0; background:rgba(0,0,0,.36); z-index:49; }
.drawer{
  position:fixed; inset:0 0 0 auto; width:min(86%, 420px);
  background:#fff; z-index:50;
  transform: translateX(105%); transition: transform .28s ease;
  display:flex; flex-direction:column; border-left:1px solid var(--line);
}
.drawer[aria-hidden="false"]{ transform: translateX(0); }
.drawer-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:16px; border-bottom:1px solid var(--line);
}
.drawer-nav{ padding:10px; display:flex; flex-direction:column; gap:6px; }
.d-link{
  padding:12px 12px; border-radius:10px; border:1px solid transparent;
}
.d-link:hover{ background:#f8fafc; border-color:var(--line); }
.drawer-foot{ margin-top:auto; padding:12px; border-top:1px solid var(--line); }

/* ---------- Buttons ---------- */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  gap:8px; padding:10px 14px; border-radius:12px;
  border:1px solid var(--line); cursor:pointer; transition: all .16s ease;
  background:#fff; color:#111827; font-weight:700; font-size:14px;
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,.06); }
.btn.primary{ background: var(--brand); border-color: transparent; color: var(--brand-ink); }
.btn.primary:hover{ filter: brightness(1.05); }
.btn.ghost{ background:#fff; border-color:var(--line); color:#111827; }

/* ---------- Hero ---------- */
.hero{
  position: relative; overflow:hidden;
  background:
    radial-gradient(1200px 500px at 70% -10%, #fff0f8 10%, transparent 60%),
    radial-gradient(900px 400px at -10% 0%, #e0f2ff 10%, transparent 60%),
    #ffffff;
  border-bottom:1px solid var(--line);
}
.hero-inner{ display:grid; grid-template-columns: 1.2fr 1fr; gap:26px; padding: 36px 0; }
.hero-title{ font-size: clamp(28px, 4vw, 40px); line-height:1.15; font-weight:900; letter-spacing:.3px; }
.hero-ctas{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
.stats{ display:flex; gap:16px; margin-top:16px; list-style:none; padding:0; }
.stat{ background:#fff; border:1px solid var(--line); border-radius:10px; padding:8px 12px; }
.stat strong{ display:block; color:var(--muted); font-size:12px; font-weight:700; }
.stat span{ font-weight:900; font-size:16px; }
.hero-media img{ border-radius:var(--radius); border:1px solid var(--line); box-shadow: var(--shadow); }
.hero-bg{ position:absolute; inset:auto 0 0 0; height:18px; background: linear-gradient(90deg, #ffe3f2, #e0f2ff); opacity:.6; }

/* Typewriter line */
.typewriter{
  margin-top:10px; min-height:24px; font-weight:700; color:#0f172a;
  border-left:3px solid var(--brand); padding-left:10px;
}

/* ---------- Sections / Cards ---------- */
section{ padding: 40px 0; }
.section-head{ margin-bottom: 14px; }
.section-head.with-controls{ display:flex; align-items:flex-end; justify-content:space-between; gap:16px; }
.card{
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
}
.card.lift:hover{ transform: translateY(-3px); box-shadow: 0 20px 40px rgba(0,0,0,.08); }

/* Reveal-on-scroll helper (toggle .is-visible via JS if desired) */
.reveal{ opacity:1; transform: translateY(0); transition: opacity .5s ease, transform .5s ease; }
.reveal.is-hidden{ opacity:0; transform: translateY(12px); }

/* Pills / badges */
.pill{
  display:inline-block; background:#f8fafc; border:1px solid var(--line);
  border-radius:999px; padding:6px 10px; font-size:12px;
}
.badge{
  display:inline-block; background:var(--muted-surface); color:#9d174d;
  border:1px solid #f9a8d4; padding:4px 8px; border-radius:999px;
  font-size:12px; font-weight:700;
}

/* ---------- Icon grids ---------- */
.icon-grid .grid a.icon-card{
  display:flex; align-items:center; gap:12px; padding:12px;
  border:1px solid var(--line); border-radius:12px; background:#fff;
  transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
}
.icon-card:hover{ transform: translateY(-3px); box-shadow: var(--shadow); border-color: var(--line-strong); }
.icon-card .icon{ font-size:22px; line-height:1; }
.icon-card .meta .title{ display:block; font-weight:900; font-size:14px; }
.icon-card .meta .desc{ display:block; color:var(--muted); font-size:12px; }

/* ---------- Grid utilities ---------- */
.grid{ display:grid; gap: 12px; }
.cols-4{ grid-template-columns: repeat(4, 1fr); }
.cols-3{ grid-template-columns: repeat(3, 1fr); }
.cols-2{ grid-template-columns: repeat(2, 1fr); }

/* Medium ↓ */
@media (max-width: 960px){
  .hero-inner{ grid-template-columns: 1fr; }
  .site-nav{ display:none; }
  .hamburger{ display:inline-block; }
  .cols-2-md{ grid-template-columns: repeat(2, 1fr); }
}
/* Small ↓ */
@media (max-width: 720px){
  .cols-1-sm{ grid-template-columns: 1fr; }
  .header-inner{ height: 64px; }
  .hero{ padding-top: 6px; }
}

/* ---------- Videos (boxed) ---------- */
.section-box{
  background:#fff; border:1px solid var(--line); border-radius: var(--radius);
  box-shadow: var(--shadow); padding: 16px;
}
.videos-grid{ display:grid; gap:12px; grid-template-columns: repeat(3, 1fr); }
.videos-grid .video-card{
  background:#fff; border:1px solid var(--line); border-radius:12px; overflow:hidden; box-shadow: var(--shadow);
}
.videos-grid .video-card iframe,
.videos-grid .video-card .thumb{
  width:100%; aspect-ratio: 16 / 9; display:block; border:0;
}
.videos-grid .video-card .meta{ padding:10px; font-size:14px; }
@media (max-width: 960px){ .videos-grid{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 720px){ .videos-grid{ grid-template-columns: 1fr; } }

/* ---------- Why / Cities / Offices ---------- */
#why .grid > .item,
#citiesCards > .card,
#officeCards > .card{
  overflow:hidden;
}

#cities .h2-sub{ font-feature-settings: "palt"; }

/* ---------- Benefits (grid-or-carousel) ---------- */
.carousel-controls{ display:flex; align-items:center; gap:6px; }
.carousel-controls .ctrl{
  width:36px; height:36px; border-radius:10px; border:1px solid var(--line);
  background:#fff; cursor:pointer;
}
.carousel-wrap{ position:relative; }
#benefitSlides{
  display:grid; grid-template-columns: repeat(3, 1fr); gap:12px;
}
#benefitSlides .benefit{
  background:#fff; border:1px solid var(--line); border-radius:12px; padding:14px; box-shadow: var(--shadow);
}
@media (max-width: 960px){ #benefitSlides{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 720px){ #benefitSlides{ grid-template-columns: 1fr; } }

/* ---------- Timeline ---------- */
.timeline{
  list-style:none; padding-left:0; margin:0;
  display:grid; gap:12px;
}
.timeline li{
  border:1px solid var(--line); border-radius:12px; padding:12px; background:#fff;
}

/* ---------- Link lists ---------- */
.linklist{ list-style: none; padding-left: 0; display:grid; gap:8px; }
.linklist a{ color:#0f172a; text-decoration: underline; text-underline-offset: 3px; }

/* ---------- Apply bar (slide-up on scroll) ---------- */
.apply-bar{
  position:fixed; left:0; right:0; bottom:0; z-index: 45;
  transform: translateY(110%); transition: transform .28s ease;
  background: rgba(255,255,255,.92); backdrop-filter: blur(8px);
  border-top:1px solid var(--line); padding:10px 0;
}
.apply-bar.is-visible{ transform: translateY(0); }
.apply-bar__inner{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.apply-bar__text{ font-weight:700; }

/* ---------- Floating buttons ---------- */
.float-bar{
  position: fixed; right: 16px; bottom: 16px; z-index: 46;
  display:flex; flex-direction:column; gap:10px;
}
.to-top{
  width:40px; height:40px; border-radius:50%;
  border:1px solid var(--line); background:#fff; cursor:pointer;
}
.apply-float{ box-shadow: var(--shadow); }

/* ---------- Footer (brand card style) ---------- */
.site-footer{ border-top:1px solid var(--line); background:#fff; }
.site-footer .container{
  display:grid; grid-template-columns: 1.1fr .9fr; gap:16px; padding: 26px 20px;
}
.site-footer--brandcard .f-brandcard{
  display:flex; flex-direction:column; gap:12px;
}
.f-brandcard__head{ display:flex; align-items:center; gap:12px; }
.f-brandcard__mark{
  width:46px; height:46px; border-radius:12px; background: var(--brand);
  color:var(--brand-ink); display:grid; place-items:center; font-weight:900;
  box-shadow: var(--shadow);
}
.f-brandcard__title{ font-size:18px; font-weight:900; }
.f-brandcard__sub{ color:var(--muted); font-size:12px; }
.f-brandcard__desc{ color:#374151; }
.f-badges{ display:flex; gap:8px; flex-wrap:wrap; }

.f-quick__title{ font-weight:900; }
.f-quick__buttons{ display:grid; gap:8px; margin:8px 0; }
.f-quick__links{ display:flex; flex-wrap:wrap; gap:12px; color:#0f172a; }
.f-copy{ grid-column: 1 / -1; color:var(--muted); font-size:12px; padding-top:10px; border-top:1px solid var(--line); }

@media (max-width: 860px){
  .site-footer .container{ grid-template-columns: 1fr; }
}

/* ---------- Contact: TP watermark background ---------- */
#contact{ position:relative; overflow:hidden; }
.tp-watermark{
  position:absolute; inset:auto 0 0 0; height: 220px; pointer-events:none;
  display:grid; place-items:center; font-weight:900; font-size: clamp(120px, 20vw, 220px);
  color: #ffb3d7;
  opacity: .14;
  letter-spacing: .06em;
  user-select: none;
  transform: translateY(22%);
}

/* ---------- Intro (JP block) ---------- */
#intro .card p + p{ margin-top:10px; }
#intro figure{ border-radius:12px; overflow:hidden; border:1px solid var(--line); }
#intro .btn{ min-width: 140px; }

/* ---------- Utility: section dividers ---------- */
section + section{ border-top: 1px solid var(--line); }
.hero + section{ border-top: 0; }

/* ---------- Noscript ---------- */
.noscript{
  margin: 12px; padding: 10px; border-radius: 10px;
  background: #fff7ed; border:1px solid #fed7aa; color:#7c2d12;
}

/* ---------- Print (just in case) ---------- */
@media print{
  .site-header, .apply-bar, .float-bar{ display:none !important; }
  a[href]::after{ content:" (" attr(href) ")"; font-size:11px; color:#6b7280; }
  section{ padding: 16px 0; }
}
